\doxysection{aws\+Protocol Class Reference}
\label{classaws_protocol}\index{awsProtocol@{awsProtocol}}


This is the class implementing the AWS Interface Module.  




{\ttfamily \#include $<$aws\+Protocol.\+h$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ aws\+\_\+decoded\+\_\+frame\+\_\+t}
\begin{DoxyCompactList}\small\item\em This structure stores the decoded command. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ aws\+Protocol} (String$^\wedge$ ip, int command\+\_\+port, int event\+\_\+port)
\begin{DoxyCompactList}\small\item\em This is the class constructor. \end{DoxyCompactList}\item 
\textbf{ Tcp\+Ip\+Server\+CLI} $^\wedge$ \textbf{ get\+Commmand\+Handler} (void)
\begin{DoxyCompactList}\small\item\em This function returns the command server \doxyref{Tcp\+Ip\+Server\+CLI}{p.}{class_tcp_ip_server_c_l_i} class handler. \end{DoxyCompactList}\item 
\textbf{ Tcp\+Ip\+Server\+CLI} $^\wedge$ \textbf{ get\+Event\+Handler} (void)
\begin{DoxyCompactList}\small\item\em This function returns the event server \doxyref{Tcp\+Ip\+Server\+CLI}{p.}{class_tcp_ip_server_c_l_i} class handler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ command\+\_\+rx\+\_\+handler} (array$<$ Byte $>$$^\wedge$ buffer, int rc)
\begin{DoxyCompactList}\small\item\em This is the command-\/server reception handler. \end{DoxyCompactList}\item 
void \textbf{ event\+\_\+rx\+\_\+handler} (array$<$ Byte $>$$^\wedge$ buffer, int rc)
\begin{DoxyCompactList}\small\item\em This is the event-\/server reception handler. \end{DoxyCompactList}\item 
bool \textbf{ find\+Next\+Param} (int $\ast$i, String$^\wedge$ s\+Frame, String$^\wedge$ \% result, bool $\ast$completed)
\begin{DoxyCompactList}\small\item\em This function finds the next item in a command frame. \end{DoxyCompactList}\item 
int \textbf{ decode\+Frame} (array$<$ Byte $>$$^\wedge$ buffer, int size, \textbf{ aws\+\_\+decoded\+\_\+frame\+\_\+t}$^\wedge$ \% p\+Decoded)
\begin{DoxyCompactList}\small\item\em This function decodes an incoming buffer from the tcp/ip channel. \end{DoxyCompactList}\item 
delegate void \textbf{ command\+\_\+callback} (void)
\begin{DoxyCompactList}\small\item\em This is the delegate of the function pointer for the command execution functions. \end{DoxyCompactList}\item 
void \textbf{ ack\+Na} (void)
\begin{DoxyCompactList}\small\item\em This is the Not Implemented command acknowledge function. \end{DoxyCompactList}\item 
void \textbf{ ack\+Ok} (void)
\begin{DoxyCompactList}\small\item\em This is the immediate command executed OK. \end{DoxyCompactList}\item 
void \textbf{ ack\+Ok} (List$<$ String$^\wedge$$>$$^\wedge$ params)
\begin{DoxyCompactList}\small\item\em This is the immediate command executed OK with parameters. \end{DoxyCompactList}\item 
void \textbf{ ack\+Nok} (void)
\begin{DoxyCompactList}\small\item\em This is the immediate command NOK. \end{DoxyCompactList}\item 
void \textbf{ ack\+Executing} (void)
\begin{DoxyCompactList}\small\item\em This is the immediate command EXECUTING. \end{DoxyCompactList}\item 
void \textbf{ event\+Executed\+Ok} (void)
\begin{DoxyCompactList}\small\item\em This is the Command Executed OK event. \end{DoxyCompactList}\item 
void \textbf{ event\+Executed\+Ok} (List$<$ String$^\wedge$$>$$^\wedge$ params)
\begin{DoxyCompactList}\small\item\em This is the Command Executed OK event with parameters. \end{DoxyCompactList}\item 
void \textbf{ event\+Executed\+Nok} (unsigned short errcode)
\begin{DoxyCompactList}\small\item\em This is the Command Executed NOK event with an error code. \end{DoxyCompactList}\item 
void \textbf{ event\+Executed\+Nok} (unsigned short errcode, String$^\wedge$ errorstr)
\begin{DoxyCompactList}\small\item\em This is the Command Executed NOK event with an error code and error string. \end{DoxyCompactList}\item 
void \textbf{ EXEC\+\_\+\+Open\+Study} (void)
\begin{DoxyCompactList}\small\item\em This function Open the study. \end{DoxyCompactList}\item 
void \textbf{ EXEC\+\_\+\+Close\+Study} (void)
\begin{DoxyCompactList}\small\item\em This command executes the Close Study command. \end{DoxyCompactList}\item 
void \textbf{ SET\+\_\+\+Projection\+List} (void)
\begin{DoxyCompactList}\small\item\em This command populate the available projection list. \end{DoxyCompactList}\item 
void \textbf{ EXEC\+\_\+\+Arm\+Position} (void)
\begin{DoxyCompactList}\small\item\em This function activate the ARM to a target position;. \end{DoxyCompactList}\item 
void \textbf{ EXEC\+\_\+\+Abort\+Projection} (void)
\begin{DoxyCompactList}\small\item\em This command invalidate any selected projection. \end{DoxyCompactList}\item 
void \textbf{ EXEC\+\_\+\+Trx\+Position} (void)
\begin{DoxyCompactList}\small\item\em This command executes the TRX activation. \end{DoxyCompactList}\item 
void \textbf{ SET\+\_\+\+Tomo\+Config} (void)
\item 
void \textbf{ SET\+\_\+\+Exposure\+Mode} (void)
\item 
void \textbf{ SET\+\_\+\+Exposure\+Data} (void)
\item 
void \textbf{ SET\+\_\+\+Enable\+Xray\+Push} (void)
\item 
void \textbf{ GET\+\_\+\+Ready\+For\+Exposure} (void)
\item 
void \textbf{ EXEC\+\_\+\+Start\+Xray\+Sequence} (void)
\item 
void \textbf{ GET\+\_\+\+Compressor} (void)
\item 
void \textbf{ GET\+\_\+\+Components} (void)
\item 
void \textbf{ GET\+\_\+\+Trx} (void)
\item 
void \textbf{ GET\+\_\+\+Arm} (void)
\item 
void \textbf{ GET\+\_\+\+Tube\+Temperature} (void)
\item 
void \textbf{ SET\+\_\+\+Language} (void)
\item 
void \textbf{ EXEC\+\_\+\+Power\+Off} (void)
\item 
void \textbf{ AWS\+\_\+\+Not\+Recognized\+Command} (void)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\textbf{ Tcp\+Ip\+Server\+CLI} $^\wedge$ \textbf{ event\+\_\+server}
\begin{DoxyCompactList}\small\item\em This is the event-\/server handler of the tcp/ip server implementation class. \end{DoxyCompactList}\item 
\textbf{ Tcp\+Ip\+Server\+CLI} $^\wedge$ \textbf{ command\+\_\+server}
\begin{DoxyCompactList}\small\item\em This is the command-\/server handler of the tcp/ip server implementation class. \end{DoxyCompactList}\item 
\textbf{ aws\+\_\+decoded\+\_\+frame\+\_\+t} $^\wedge$ \textbf{ p\+Decoded\+Frame}
\begin{DoxyCompactList}\small\item\em This is the decoded command. \end{DoxyCompactList}\item 
unsigned short \textbf{ event\+\_\+counter}
\begin{DoxyCompactList}\small\item\em This is the sequence counter of the events. \end{DoxyCompactList}\item 
Dictionary$<$ String$^\wedge$, \textbf{ command\+\_\+callback}$^\wedge$$>$ $^\wedge$ \textbf{ command\+Exec}
\begin{DoxyCompactList}\small\item\em This is the dictionary of the command that are implemented. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the class implementing the AWS Interface Module. 



\doxysubsection{Member Function Documentation}
\label{classaws_protocol_a1fbccc7a475a798453abbf8e13b156e7} 
\index{awsProtocol@{awsProtocol}!ackExecuting@{ackExecuting}}
\index{ackExecuting@{ackExecuting}!awsProtocol@{awsProtocol}}
\doxysubsubsection{ackExecuting()}
{\footnotesize\ttfamily void aws\+Protocol\+::ack\+Executing (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the immediate command EXECUTING. 

This is the function to acknowledge AWS that the command is executing.\label{classaws_protocol_abc6e0e815f612b65db90875364917d4b} 
\index{awsProtocol@{awsProtocol}!ackNa@{ackNa}}
\index{ackNa@{ackNa}!awsProtocol@{awsProtocol}}
\doxysubsubsection{ackNa()}
{\footnotesize\ttfamily void aws\+Protocol\+::ack\+Na (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the Not Implemented command acknowledge function. 

This is the function to acknowledge the AWS command with the NA code.

The NA code is sent back to AWS when a command is not implemented.\label{classaws_protocol_a60fc2ff0b223c75efa8019d7a8dfa964} 
\index{awsProtocol@{awsProtocol}!ackNok@{ackNok}}
\index{ackNok@{ackNok}!awsProtocol@{awsProtocol}}
\doxysubsubsection{ackNok()}
{\footnotesize\ttfamily void aws\+Protocol\+::ack\+Nok (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the immediate command NOK. 

This is the function to acknowledge the AWS command with the NOK code.

The NOK code is sent back to AWS when a command has been aborted.~\newline
The function returns a frame with an error cede and an optional error string.\label{classaws_protocol_a631fdb9ac444257a111dd1f394235e52} 
\index{awsProtocol@{awsProtocol}!ackOk@{ackOk}}
\index{ackOk@{ackOk}!awsProtocol@{awsProtocol}}
\doxysubsubsection{ackOk()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void aws\+Protocol\+::ack\+Ok (\begin{DoxyParamCaption}\item[{List$<$ String$^\wedge$$>$$^\wedge$}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the immediate command executed OK with parameters. 

This is the function to acknowledge the AWS command with the OK code.

The OK code is sent back to AWS when a command has been successfully executed


\begin{DoxyParams}{Parameters}
{\em params} & This is a list of optionals parameters\\
\hline
\end{DoxyParams}
\label{classaws_protocol_a6b12fda1db897de890143889d66177fb} 
\index{awsProtocol@{awsProtocol}!ackOk@{ackOk}}
\index{ackOk@{ackOk}!awsProtocol@{awsProtocol}}
\doxysubsubsection{ackOk()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void aws\+Protocol\+::ack\+Ok (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the immediate command executed OK. 

This is the function to acknowledge the AWS command with the OK code.

The OK code is sent back to AWS when a command has been successfully executed\label{classaws_protocol_a2f985593c4e96ef98ce0babdcafaa068} 
\index{awsProtocol@{awsProtocol}!command\_callback@{command\_callback}}
\index{command\_callback@{command\_callback}!awsProtocol@{awsProtocol}}
\doxysubsubsection{command\_callback()}
{\footnotesize\ttfamily delegate void aws\+Protocol\+::command\+\_\+callback (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the delegate of the function pointer for the command execution functions. 

\label{classaws_protocol_abb1a2621826296f1194dede7e66b5567} 
\index{awsProtocol@{awsProtocol}!command\_rx\_handler@{command\_rx\_handler}}
\index{command\_rx\_handler@{command\_rx\_handler}!awsProtocol@{awsProtocol}}
\doxysubsubsection{command\_rx\_handler()}
{\footnotesize\ttfamily void aws\+Protocol\+::command\+\_\+rx\+\_\+handler (\begin{DoxyParamCaption}\item[{array$<$ Byte $>$$^\wedge$}]{buffer,  }\item[{int}]{rc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the command-\/server reception handler. 

This is the callback assigned to the command\+\_\+server buffer reception.


\begin{DoxyParams}{Parameters}
{\em buffer} & This is the received byte array\\
\hline
{\em rc} & This is the length of the received buffer\\
\hline
\end{DoxyParams}
\label{classaws_protocol_a759c3c98ffa92694d2e2b0c5c24bd573} 
\index{awsProtocol@{awsProtocol}!decodeFrame@{decodeFrame}}
\index{decodeFrame@{decodeFrame}!awsProtocol@{awsProtocol}}
\doxysubsubsection{decodeFrame()}
{\footnotesize\ttfamily int aws\+Protocol\+::decode\+Frame (\begin{DoxyParamCaption}\item[{array$<$ Byte $>$$^\wedge$}]{buffer,  }\item[{int}]{size,  }\item[{\textbf{ aws\+\_\+decoded\+\_\+frame\+\_\+t}$^\wedge$ \%}]{p\+Decoded }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This function decodes an incoming buffer from the tcp/ip channel. 

This is the decode frame of the received byte array from the AWS interface.


\begin{DoxyParams}{Parameters}
{\em buffer} & This is the incoming byte streaming \\
\hline
{\em size} & This is the size of the received buffer\\
\hline
{\em p\+Decoded} & This is the handler of the decoded result\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This is the error code if $<$0
\end{DoxyReturn}
\label{classaws_protocol_a625cfef79eb7d7785a347d6fdf629d47} 
\index{awsProtocol@{awsProtocol}!event\_rx\_handler@{event\_rx\_handler}}
\index{event\_rx\_handler@{event\_rx\_handler}!awsProtocol@{awsProtocol}}
\doxysubsubsection{event\_rx\_handler()}
{\footnotesize\ttfamily void aws\+Protocol\+::event\+\_\+rx\+\_\+handler (\begin{DoxyParamCaption}\item[{array$<$ Byte $>$$^\wedge$}]{receivbufe\+Buffer,  }\item[{int}]{rc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the event-\/server reception handler. 

This is the event\+\_\+server reception callback.

The AWS should never send any data on this channel!


\begin{DoxyParams}{Parameters}
{\em buffer} & This is the received byte array\\
\hline
{\em rc} & This is the length of the received buffer\\
\hline
\end{DoxyParams}
\label{classaws_protocol_af412eab3600baa2c7b0b2330a19a8244} 
\index{awsProtocol@{awsProtocol}!eventExecutedNok@{eventExecutedNok}}
\index{eventExecutedNok@{eventExecutedNok}!awsProtocol@{awsProtocol}}
\doxysubsubsection{eventExecutedNok()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void aws\+Protocol\+::event\+Executed\+Nok (\begin{DoxyParamCaption}\item[{unsigned short}]{errcode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the Command Executed NOK event with an error code. 

This is the function to send an event to AWS notifying the failed command completion.

The function send an error code to the AWS as a parameter


\begin{DoxyParams}{Parameters}
{\em errcode} & This is the error code notified to the AWS\\
\hline
\end{DoxyParams}
\label{classaws_protocol_aed4052bdf696436ed59b2390e2745b69} 
\index{awsProtocol@{awsProtocol}!eventExecutedNok@{eventExecutedNok}}
\index{eventExecutedNok@{eventExecutedNok}!awsProtocol@{awsProtocol}}
\doxysubsubsection{eventExecutedNok()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void aws\+Protocol\+::event\+Executed\+Nok (\begin{DoxyParamCaption}\item[{unsigned short}]{errcode,  }\item[{String$^\wedge$}]{errorstr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the Command Executed NOK event with an error code and error string. 

This is the function to send an event to AWS notifying the failed command completion.

The function send an error code and an error string to the AWS as parameters


\begin{DoxyParams}{Parameters}
{\em errcode} & This is the error code notified to the AWS\\
\hline
{\em errorstr} & This is an error string describing the error event\\
\hline
\end{DoxyParams}
\label{classaws_protocol_adfe8734c49e335ac5133486fcdff3e80} 
\index{awsProtocol@{awsProtocol}!eventExecutedOk@{eventExecutedOk}}
\index{eventExecutedOk@{eventExecutedOk}!awsProtocol@{awsProtocol}}
\doxysubsubsection{eventExecutedOk()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void aws\+Protocol\+::event\+Executed\+Ok (\begin{DoxyParamCaption}\item[{List$<$ String$^\wedge$$>$$^\wedge$}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the Command Executed OK event with parameters. 

This is the function to send an event to AWS to notify a successfully command completion.


\begin{DoxyParams}{Parameters}
{\em params} & This is a list of optionals parameters\\
\hline
\end{DoxyParams}
\label{classaws_protocol_a2d6d315d4cf36f3808319ee656a833db} 
\index{awsProtocol@{awsProtocol}!eventExecutedOk@{eventExecutedOk}}
\index{eventExecutedOk@{eventExecutedOk}!awsProtocol@{awsProtocol}}
\doxysubsubsection{eventExecutedOk()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void aws\+Protocol\+::event\+Executed\+Ok (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This is the Command Executed OK event. 

This is the function to send an event to AWS to notify a successfully command completion.\label{classaws_protocol_a8dca2f7dfe38e3587066965a4c9516fa} 
\index{awsProtocol@{awsProtocol}!findNextParam@{findNextParam}}
\index{findNextParam@{findNextParam}!awsProtocol@{awsProtocol}}
\doxysubsubsection{findNextParam()}
{\footnotesize\ttfamily bool aws\+Protocol\+::find\+Next\+Param (\begin{DoxyParamCaption}\item[{int $\ast$}]{i,  }\item[{String$^\wedge$}]{s\+Frame,  }\item[{String$^\wedge$ \%}]{result,  }\item[{bool $\ast$}]{completed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



This function finds the next item in a command frame. 

This function retrive the next item in the current decoding frame.


\begin{DoxyParams}{Parameters}
{\em i} & This is the character index of the received buffer\\
\hline
{\em s\+Frame} & This is the frame received\\
\hline
{\em result} & This is the decoded item\\
\hline
{\em completed} & This flag is set if the frame is completed\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the item is successfully detected
\end{DoxyReturn}


\doxysubsection{Member Data Documentation}
\label{classaws_protocol_ad935a9da2717cba399ff393436a0e646} 
\index{awsProtocol@{awsProtocol}!command\_server@{command\_server}}
\index{command\_server@{command\_server}!awsProtocol@{awsProtocol}}
\doxysubsubsection{command\_server}
{\footnotesize\ttfamily \textbf{ Tcp\+Ip\+Server\+CLI} $^\wedge$ aws\+Protocol\+::command\+\_\+server\hspace{0.3cm}{\ttfamily [private]}}



This is the command-\/server handler of the tcp/ip server implementation class. 

\label{classaws_protocol_a5f4f67072c68a691945499308d9689cc} 
\index{awsProtocol@{awsProtocol}!commandExec@{commandExec}}
\index{commandExec@{commandExec}!awsProtocol@{awsProtocol}}
\doxysubsubsection{commandExec}
{\footnotesize\ttfamily Dictionary$<$String$^\wedge$, \textbf{ command\+\_\+callback}$^\wedge$$>$ $^\wedge$ aws\+Protocol\+::command\+Exec\hspace{0.3cm}{\ttfamily [private]}}



This is the dictionary of the command that are implemented. 

\label{classaws_protocol_a45902a67149af857b7dd7fcc9facaf3f} 
\index{awsProtocol@{awsProtocol}!event\_counter@{event\_counter}}
\index{event\_counter@{event\_counter}!awsProtocol@{awsProtocol}}
\doxysubsubsection{event\_counter}
{\footnotesize\ttfamily unsigned short aws\+Protocol\+::event\+\_\+counter\hspace{0.3cm}{\ttfamily [private]}}



This is the sequence counter of the events. 

\label{classaws_protocol_a71fe2605debd0e8aeb25405b1835740f} 
\index{awsProtocol@{awsProtocol}!event\_server@{event\_server}}
\index{event\_server@{event\_server}!awsProtocol@{awsProtocol}}
\doxysubsubsection{event\_server}
{\footnotesize\ttfamily \textbf{ Tcp\+Ip\+Server\+CLI} $^\wedge$ aws\+Protocol\+::event\+\_\+server\hspace{0.3cm}{\ttfamily [private]}}



This is the event-\/server handler of the tcp/ip server implementation class. 

\label{classaws_protocol_a2ff396d1d569f24d1d8130f6d5c67ec4} 
\index{awsProtocol@{awsProtocol}!pDecodedFrame@{pDecodedFrame}}
\index{pDecodedFrame@{pDecodedFrame}!awsProtocol@{awsProtocol}}
\doxysubsubsection{pDecodedFrame}
{\footnotesize\ttfamily \textbf{ aws\+\_\+decoded\+\_\+frame\+\_\+t} $^\wedge$ aws\+Protocol\+::p\+Decoded\+Frame\hspace{0.3cm}{\ttfamily [private]}}



This is the decoded command. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/marco/\+One\+Drive/\+Documenti/\+Visual Studio 2022/\+Projects/\+MCPU/\+MCPU\+\_\+\+MASTER/\textbf{ aws\+Protocol.\+h}\item 
C\+:/\+Users/marco/\+One\+Drive/\+Documenti/\+Visual Studio 2022/\+Projects/\+MCPU/\+MCPU\+\_\+\+MASTER/\textbf{ aws\+Protocol.\+cpp}\end{DoxyCompactItemize}
