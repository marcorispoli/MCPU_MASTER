.TH "CR2CP_Eth" 3 "Mon Sep 30 2024" "MCPU" \" -*- nroff -*-
.ad l
.nh
.SH NAME
CR2CP_Eth \- Class to handle the protocol\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <R2CP_Eth\&.h>\fP
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBCR2CP_Eth\fP (short(*cbSendMsgEth)(unsigned char *pMessage, unsigned short datalength), \fBCaDataDic\fP *(*cbSearchDatadicSlave)(unsigned char Node), \fBCaDataDic\fP *pEthDataDic, void(*cbJumpToBootloader)(void), unsigned short targetId)"
.br
.RI "Constructor of the class\&. "
.ti -1c
.RI "\fB~CR2CP_Eth\fP ()"
.br
.RI "Destructor of the class\&. "
.ti -1c
.RI "void \fBProcessMessage\fP (void *pMessage)"
.br
.RI "Scans/Processes a message given\&. It will check the format according to protocol defination\&. "
.ti -1c
.RI "bool \fBSet\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char *pdata)"
.br
.RI "Sends a SET command\&. "
.ti -1c
.RI "bool \fBGet\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char *pdata)"
.br
.RI "Sends a GET command\&. "
.ti -1c
.RI "bool \fBEvent_Answer\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned short dataLength, unsigned char *pdata)"
.br
.RI "Sends a EVENT command\&. "
.ti -1c
.RI "bool \fBProcessed\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char *pdata)"
.br
.RI "Sends a MSG_PROCESSED_FNC command\&. "
.ti -1c
.RI "bool \fBWrongAccess\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char *pdata)"
.br
.ti -1c
.RI "bool \fBReserved\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char *pdata)"
.br
.ti -1c
.RI "bool \fBSendRawData\fP (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char function, unsigned short dataLength, unsigned char *pdata)"
.br
.RI "Use this method when the data size is higher than 50 bytes to avoid dynamic memory allocation\&. "
.ti -1c
.RI "bool \fBisCommandProcessed\fP ()"
.br
.ti -1c
.RI "unsigned char \fBgetAssignedSequence\fP ()"
.br
.ti -1c
.RI "unsigned char \fBgetCommandProcessedResult\fP ()"
.br
.ti -1c
.RI "std::string \fBgetCommandProcessedString\fP (void)"
.br
.ti -1c
.RI "void \fBevalCommadProcessedResult\fP (void)"
.br
.ti -1c
.RI "void \fBevalSetGeneratorProcessedResult\fP (void)"
.br
.ti -1c
.RI "void \fBevalSetPatientProcessedResult\fP (void)"
.br
.ti -1c
.RI "void \fBevalSetSystemProcessedResult\fP (void)"
.br
.ti -1c
.RI "void \fBevalGetGeneratorProcessedResult\fP (void)"
.br
.ti -1c
.RI "void \fBevalGetPatientProcessedResult\fP (void)"
.br
.ti -1c
.RI "void \fBevalGetSystemProcessedResult\fP (void)"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static void \fBCallback_token_expired\fP (unsigned char Node)"
.br
.in -1c
.SS "Public Attributes"

.in +1c
.ti -1c
.RI "bool \fBsmartHubConnected\fP"
.br
.ti -1c
.RI "bool \fBgeneratorConnected\fP"
.br
.ti -1c
.RI "bool \fBserviceToolConnected\fP"
.br
.ti -1c
.RI "unsigned short \fBnBlockDataExpected\fP"
.br
.ti -1c
.RI "unsigned short \fBnCurrentBlockData\fP"
.br
.ti -1c
.RI "unsigned char \fBBlockDataSequenceExpected\fP"
.br
.ti -1c
.RI "unsigned char * \fBpBlockData\fP"
.br
.ti -1c
.RI "unsigned char \fBBlockAccess\fP"
.br
.ti -1c
.RI "\fBtInfoMessage\fP \fBinfomessage\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
Class to handle the protocol\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "CR2CP_Eth::CR2CP_Eth (short(*)(unsigned char *pMessage, unsigned short datalength) cbSendMsgEth, \fBCaDataDic\fP *(*)(unsigned char Node) cbSearchDatadicSlave, \fBCaDataDic\fP * pEthDataDic, void(*)(void) cbJumpToBootloader, unsigned short targetId)"

.PP
Constructor of the class\&. 
.PP
\fBParameters\fP
.RS 4
\fIcbSendMsgEth\fP Callback to send eth messages\&. It must return:
.IP "\(bu" 2
false If succesful
.IP "\(bu" 2
true If not 
.PP
.br
\fIcbGetDictionary\fP Function to get the right dictionary according to the node It must return:
.IP "\(bu" 2
pNULL If not available
.IP "\(bu" 2
CaDataDic* Pointer to the dictionary 
.PP
.RE
.PP

.SH "Member Function Documentation"
.PP 
.SS "bool CR2CP_Eth::Event_Answer (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned short dataLength, unsigned char * pdata)"

.PP
Sends a EVENT command\&. 
.PP
\fBParameters\fP
.RS 4
\fInodeId\fP Node id\&. 
.br
\fIindex\fP Index field of the dictionary object\&. 
.br
\fIsubindex\fP SubIndex field of the dictionary object\&. 
.br
\fIdataLength\fP Data lenght\&. 
.br
\fIpdata\fP Datas of the dictionary object\&. 
.RE
.PP
\fBReturns\fP
.RS 4
- false If succesful
.IP "\(bu" 2
true If not 
.PP
.RE
.PP

.SS "bool CR2CP_Eth::Get (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char * pdata)"

.PP
Sends a GET command\&. 
.PP
\fBParameters\fP
.RS 4
\fInodeId\fP Node id\&. 
.br
\fIindex\fP Index field of the dictionary object\&. 
.br
\fIsubindex\fP SubIndex field of the dictionary object\&. 
.br
\fIdataLength\fP Data lenght\&. 
.br
\fIpdata\fP Datas of the dictionary object\&. 
.RE
.PP
\fBReturns\fP
.RS 4
- false If succesful
.IP "\(bu" 2
true If not 
.PP
.RE
.PP

.SS "bool CR2CP_Eth::Processed (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char * pdata)"

.PP
Sends a MSG_PROCESSED_FNC command\&. 
.PP
\fBParameters\fP
.RS 4
\fInodeId\fP Node id\&. 
.br
\fIindex\fP Index field of the dictionary object\&. 
.br
\fIsubindex\fP SubIndex field of the dictionary object\&. 
.br
\fIdataLength\fP Data lenght\&. 
.br
\fIpdata\fP Datas of the dictionary object\&. 
.RE
.PP
\fBReturns\fP
.RS 4
- false If succesful
.IP "\(bu" 2
true If not 
.PP
.RE
.PP

.SS "void CR2CP_Eth::ProcessMessage (void * pMessage)"

.PP
Scans/Processes a message given\&. It will check the format according to protocol defination\&. 
.PP
\fBParameters\fP
.RS 4
\fIpMessage\fP Can message\&. 
.RE
.PP
Give an id in case a thread is launched by the dictionary This id is placed in the last argument of the data message
.SS "bool CR2CP_Eth::Reserved (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char * pdata)"

.PP
\fBParameters\fP
.RS 4
\fIprio\fP Priority field of frame id\&. 
.br
\fIack\fP Handshake field of frame id\&. 
.br
\fInode\fP Node id field of frame id\&. 
.br
\fIindex\fP Index field of frame id\&. 
.br
\fIsubindex\fP SubIndex field of frame id\&. 
.br
\fIdataLength\fP Data lenght\&. 
.br
\fIpdata\fP Datas of the frame\&. 
.RE
.PP
\fBReturns\fP
.RS 4
- false If succesful
.IP "\(bu" 2
true If n 
.PP
.RE
.PP

.SS "bool CR2CP_Eth::SendRawData (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char function, unsigned short dataLength, unsigned char * pdata)"

.PP
Use this method when the data size is higher than 50 bytes to avoid dynamic memory allocation\&. 
.PP
\fBParameters\fP
.RS 4
\fIprio\fP Priority field of frame id\&. 
.br
\fInode_dest\fP Node id Destine field of frame id\&. 
.br
\fInode_iss\fP Node id Origin field of frame id\&. 
.br
\fIindex\fP Index field of frame id\&. 
.br
\fIsubindex\fP SubIndex field of frame id\&. 
.br
\fIfunction\fP Function field of frame id\&. 
.br
\fIdataLength\fP Data lenght\&. 
.br
\fIpdata\fP Data pointer of the frame\&. 
.RE
.PP
\fBReturns\fP
.RS 4
- false If succesful
.IP "\(bu" 2
true If n 
.PP
.RE
.PP

.SS "bool CR2CP_Eth::Set (eEthPriorities prio, unsigned char node_dest, unsigned char node_iss, unsigned char index, unsigned char subindex, unsigned char dataLength, unsigned char * pdata)"

.PP
Sends a SET command\&. 
.PP
\fBParameters\fP
.RS 4
\fInodeId\fP Node id\&. 
.br
\fIindex\fP Index field of the dictionary object\&. 
.br
\fIsubindex\fP SubIndex field of the dictionary object\&. 
.br
\fIdataLength\fP Data lenght\&. 
.br
\fIpdata\fP Datas of the dictionary object\&. 
.RE
.PP
\fBReturns\fP
.RS 4
- false If succesful
.IP "\(bu" 2
true If not 
.PP
.RE
.PP


.SH "Author"
.PP 
Generated automatically by Doxygen for MCPU from the source code\&.
